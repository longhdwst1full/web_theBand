<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./dienthoai.css">
</head>

<body>
    <div class="container">
        <header>
            <h1>shop di động</h1>
        </header>
        <main>
            <div id="cottrai">
                <div id="accordin">
                    <div class="cap">Thương hiệu</div>
                    <div class="ct">
                        <label for="">
                            <input type="checkbox" onchange="thuonghieudt()" value="apple"
                                class="thuonghieu">apple</label>
                        <label for="">
                            <input type="checkbox" onchange="thuonghieudt()" value="oppo"
                                class="thuonghieu">oppo</label>
                        <label for="">
                            <input type="checkbox" onchange="thuonghieudt()" value="samsung"
                                class="thuonghieu">samsung</label>
                        <label for="">
                            <input type="checkbox" onchange="thuonghieudt()" value="xiaomi"
                                class="thuonghieu">xiaomi</label>
                        <label for="">
                            <input type="checkbox" onchange="thuonghieudt()" value="viovo"
                                class="thuonghieu">viovo</label>
                    </div>
                    <div class="cap">Giá bán</div>
                    <div class="ct">
                        <label for="">
                            <input type="checkbox" onchange="thuonghieudt()" value="1" class="giaban">dưới 5 triệu
                        </label>
                        <label> <input type="checkbox" onchange="thuonghieudt()" value="2" class="giaban">từ 5 dến 10
                            triệu </label>
                        <label> <input type="checkbox" onchange="thuonghieudt()" value="3" class="giaban">từ 10 đến 15
                            triệu </label>
                        <label><input type="checkbox" onchange="thuonghieudt()" value="4" class="giaban">từ 15 đến 20
                            triệu </label>

                    </div>
                </div>





            </div>
            <div id="cotphai">
                <div id="list1">
                    <!-- <div class="dt">
                       
                        <h3>xiaomi</h3>
                        <h4>2.299</h4>
                    </div> -->

                </div>
            </div>
        </main>
        <div id="so_sp"></div>
        <footer>
            <p>hotensinhvien</p>
        </footer>
    </div>
    <script>
        var arrdt = [
            {
                tendt: 'xiaomi',
                gia: 4000000,
                thuonghieu: 'xiaomi',
            },
            {
                tendt: 'apple',
                gia: 6000000,
                thuonghieu: 'apple',
            },
            {
                tendt: 'oppo',
                gia: 8000000,
                thuonghieu: 'oppo',
            },
            {
                tendt: 'samsung',
                gia: 4000000,
                thuonghieu: 'samsung',
            },
            {
                tendt: 'iphone',
                gia: 10000000,
                thuonghieu: 'iphone',
            },
            {
                tendt: 'viovo',
                gia: 11000000,
                thuonghieu: 'viovo',
            }
        ];
        function show_product(thuonghieu_list = [], giaban_list = []) {
            // console.log(thuonghieu_list)
            let so_snapham = 0;
            var so_sp = document.getElementById("so_sp");
            const show_info = document.getElementById("list1");
            const arrlist = arrdt.map(function (iteam) {
                // console.log(iteam)
                // lọc
                if (thuonghieu_list.length > 0) {
                    if (thuonghieu_list.includes(iteam.tendt) == false) { return console.log(thuonghieu_list)}

                }
                if (giaban_list.length > 0) {
                    if (iteam.gia < 5000000 && giaban_list.includes("1") == false) { return  console.log(giaban_list)}
                    if (iteam.gia >= 5000000 && iteam.gia < 10000000 && giaban_list.includes("2") == false) { return }
                    if (iteam.gia >= 10000000 && iteam.gia < 15000000 && giaban_list.includes("3") == false) { return }
                    if (iteam.gia >= 15000000 && giaban_list.includes("4") == false) { return }
                }
                so_snapham++;

                return ` 
                                 <div class="dt">
                               
                                <h3>${iteam.tendt}</h3>
                                <h4>${iteam.gia}</h4>
                                <p>${iteam.thuonghieu}</p>
                         
                   
                            </div>`
            })
                .join("");
            show_info.innerHTML = arrlist;
            so_sp.innerHTML = `so điện thoại đc hiện : ${so_snapham}`;
        }


    </script>
    <script>
        function thuonghieudt() {
            let thuonghieuchon = document.getElementsByClassName("thuonghieu");
            let giaban = document.getElementsByClassName("giaban")
            const thuonghieu_list = [];
            const giaban_list = [];
            for (let i = 0; i < thuonghieuchon.length; i++) {
                if (thuonghieuchon[i].checked == true) {
                    thuonghieu_list.push(thuonghieuchon[i].value);
                }

            }
            for (let i = 0; i < giaban.length; i++) {
                if (giaban[i].checked == true) {
                    giaban_list.push(giaban[i].value);
                }

            }
            // console.log(thuonghieu_list);
            show_product(thuonghieu_list, giaban_list);
        }
        thuonghieudt();
    </script>
</body>

</html>